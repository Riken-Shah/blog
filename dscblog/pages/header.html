<link rel="stylesheet" type="text/css" href="/static/styles/header.css" />
{% if not blank %}
{% if header.float %}
<div id="header" class="float">
{% else %}
<div id="header">
{% endif %}
    <a id="hd_hero" href="/"><img id="hd_icon" src="/static/icons/icon.png" /></a>
    <div id="hd_opts" class="hstack space-around">
        {% if not header.is_empty %}
        <a class="hd_opt hd_canhide" href="/explore">Explore</a>
        {% if header.is_loggedin %}
        <a class="hd_opt" href="/create">Write</a>
        <a class="hd_opt" href="/profile">Profile</a>
        {% else %}
        <a class="hd_opt" href="/accounts/login">Log In</a>
        {% endif %}
        {% endif %}
        <div id="hd_toggleBox">
            <div id="hd_themeToggle">â˜€</div>
        </div>
        
    </div>
</div>
{% if header.float %}
<div id="hd_space"></div>
{% endif %}
{% endif %}
<script>
    function systemTheme() {
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            return 'dark'
        } else {
            return 'light'
        }
    }
    if (document.documentElement.getAttribute("data-theme") == 'dark') {
        $("#hd_themeToggle").html("ðŸŒœ");
    }
    $("#hd_themeToggle").on('click', () => {
        if (document.documentElement.getAttribute("data-theme") == 'dark') {
            if (systemTheme() == 'light')
                window.changeTheme('system');
            else
                window.changeTheme('light');
            $("#hd_themeToggle").html("â˜€");
        } else {
            if (systemTheme() == 'dark')
                window.changeTheme('system');
            else
                window.changeTheme('dark');
            $("#hd_themeToggle").html("ðŸŒœ");
        }
    })
</script>
